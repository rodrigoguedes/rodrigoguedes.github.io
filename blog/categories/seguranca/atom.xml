<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Segurança | Rodrigo Guedes de Souza]]></title>
  <link href="http://guedesdesouza.com.br/blog/categories/seguranca/atom.xml" rel="self"/>
  <link href="http://guedesdesouza.com.br/"/>
  <updated>2014-07-06T17:11:44-03:00</updated>
  <id>http://guedesdesouza.com.br/</id>
  <author>
    <name><![CDATA[Rodrigo Guedes de Souza]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Estudo Sobre a Implantação De Propriedades De Segurança Em Correio Eletrônico Através Do PGP]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/04/14/estudo-sobre-a-implantacao-de-propriedades-de-seguranca-em-correio-eletronico-atraves-do-pgp/"/>
    <updated>2014-04-14T10:54:10-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/04/14/estudo-sobre-a-implantacao-de-propriedades-de-seguranca-em-correio-eletronico-atraves-do-pgp</id>
    <content type="html"><![CDATA[<p>Para aqueles que querem proteger suas informações enviadas por email, segue minha monografia para o curso de Especialização em Ambientes de Desenvolvimento para Internet.
Apesar de ter escrito há alguns anos ainda é uma ótima fonte de referência.</p>

<p style="text-align:center;"> <strong>RESUMO</strong></p>

<p>O correio eletrônico (email) é um dos melhores exemplos da onipresença que a Internet apresenta no cotidiano da sociedade moderna. Entretanto, muito embora já considerado um serviço essencial, o correio eletrônico é inerentemente inseguro. A
despeito da ignorância da grande maioria dos usuários, o correio eletrônico, como utilizado comumente (através da RFC 822) não é capaz de garantir a entrega, a privacidade, a autenticação e o não repúdio das mensagens enviadas. A utilização de
aplicações como o PGP, que permitem acrescentar propriedades de segurança ao correio eletrônico, têm se demonstrado de mínimo grau de penetração junto à comunidade da Internet. Este trabalho tem portanto o objetivo de realizar um estudo
sobre a implantação de propriedades de segurança em correio eletrônico através de uma aplicação baseada em criptografia, cujo representante mais popular é o PGP. A partir dos resultados obtidos com este estudo, esperase poder divulgar e fornecer
uma trilha para servir de guia à popularização dos serviços de segurança em correio eletrônico.</p>

<p>Palavraschave:
Segurança, correio eletrônico, PGP.</p>

<p>Aluno: Rodrigo Guedes de Souza (<a href="&#109;&#97;&#105;&#108;&#x74;&#x6f;&#x3a;&#114;&#111;&#x64;&#x72;&#x69;&#x67;&#x6f;&#x40;&#x67;&#x75;&#101;&#x64;&#101;&#115;&#100;&#x65;&#x73;&#111;&#x75;&#122;&#x61;&#46;&#99;&#111;&#109;&#x2e;&#98;&#114;">&#114;&#111;&#100;&#114;&#105;&#x67;&#111;&#64;&#x67;&#x75;&#x65;&#100;&#101;&#x73;&#x64;&#x65;&#115;&#x6f;&#117;&#x7a;&#x61;&#x2e;&#x63;&#x6f;&#x6d;&#x2e;&#x62;&#x72;</a>)
Orientação: Prof. Msc. Edson Yanaga (<a href="&#109;&#x61;&#105;&#108;&#x74;&#111;&#x3a;&#121;&#x61;&#x6e;&#97;&#103;&#97;&#x40;&#99;&#101;&#x73;&#x75;&#x6d;&#x61;&#x72;&#46;&#98;&#114;">&#x79;&#x61;&#x6e;&#x61;&#103;&#97;&#64;&#x63;&#101;&#115;&#x75;&#x6d;&#97;&#114;&#x2e;&#98;&#x72;</a>)</p>

<p><a href="https://drive.google.com/file/d/0B3U4JYDYh4XEYnh2QWJrZzV2Sk0/edit?usp=sharing">Download Aqui&hellip;</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Utilizando Captcha Com Servlet]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/04/14/utilizando-captcha-com-servlet/"/>
    <updated>2014-04-14T10:16:05-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/04/14/utilizando-captcha-com-servlet</id>
    <content type="html"><![CDATA[<p>Um assunto muito interessante que eu trato neste post, é como utilizar captcha para manter seguro seu site contra robôs da web e ataques.</p>

<p><strong>O que é um Robô da Web</strong></p>

<p>ROBOT (ou robô) é um programa de computador que percorre automaticamente as páginas da Internet em busca de documentos, a fim de indexá-los, validá-los ou monitorar alterações de conteúdo.
<a href="http://pt.wikipedia.org/wiki/Robots.txt">Wikipedia</a></p>

<p><strong>O que é DDos-Spam</strong></p>

<p>Um ataque de negação de serviço (também conhecido como DoS, um acrônimo em inglês para Denial of Service), é uma tentativa em tornar os recursos de um sistema indisponíveis para seus utilizadores. Alvos típicos são servidores web, e o ataque tenta tornar as páginas hospedadas indisponíveis na WWW. Não se trata de uma invasão do sistema, mas sim da sua invalidação por sobrecarga.
<a href="http://pt.wikipedia.org/wiki/Ddos">Wikipedia</a></p>

<p><strong>O que é Captcha</strong></p>

<p>CAPTCHA é um acrônimo para “Completely Automated Public Turing test to tell Computers and Humans Apart” (teste de Turing público completamente automatizado para diferenciar entre computadores e humanos) desenvolvido pela universidade do Carnegie-Mellon.</p>

<p>CAPTCHAs são utilizados para impedir que softwares automatizados execute ações que degradam a qualidade do serviço de um sistema dado, devido à despesa do abuso ou do recurso. Embora CAPTCHAs sejam utilizados mais frequentemente como uma resposta a proteção de interesses comerciais, a noção que existem para parar somente spammers é um erro, ou uma simples redução.
<a href="http://pt.wikipedia.org/wiki/CAPTCHA">Wikipedia</a></p>

<p><strong>API Disponíveis</strong>
Atualmente as apis mais utilizadas, freqüentemente, em sistemas em java são:</p>

<p>Simple Captcha <a href="http://simplecaptcha.sourceforge.net">http://simplecaptcha.sourceforge.net</a>
Última Atualização 25/09/2005</p>

<p>JCaptcha <a href="http://jcaptcha.sourceforge.net">http://jcaptcha.sourceforge.net</a>
Última Atualização 03/05/2007</p>

<p>SkewPassImage <a href="http://skewpassim.sourceforge.net">http://skewpassim.sourceforge.net</a>
Última Atualização 27/03/2006</p>

<p>Recaptcha <a href="http://www.recaptcha.net">http://www.recaptcha.net</a></p>

<p><strong>Implementação</strong>
Uma situação real em que pode ser utilizado a captcha, é em um cadastro de usuário em um fórum, por exemplo, imagine se não existir um método que empeça de um cracker ou um aplicativo robô, derrubar seu site de tanto emitir submissões de cadastros de usuário “Ataque por DDos-spam”. Isso poderia gerar um excessivo uso de recursos desnecessário do servidor.
Para nossa implementação eu escolho o Jcaptcha, pois na minha opinião é a API mais completa para se trabalhar com Java.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>CaptchaServiceSingleton.java </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">guedesdesouza</span><span class="o">.</span><span class="na">captcha</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.octo.captcha.service.image.ImageCaptchaService</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.octo.captcha.service.image.DefaultManageableImageCaptchaService</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CaptchaServiceSingleton</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">private</span> <span class="kd">static</span> <span class="n">ImageCaptchaService</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultManageableImageCaptchaService</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">ImageCaptchaService</span> <span class="nf">getInstance</span><span class="o">(){</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>GeraCaptchaServlet.java </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">guedesdesouza</span><span class="o">.</span><span class="na">captcha</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">java.awt.image.BufferedImage</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.ByteArrayOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">javax.servlet.ServletConfig</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.octo.captcha.service.CaptchaServiceException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.sun.image.codec.jpeg.JPEGCodec</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.sun.image.codec.jpeg.JPEGImageEncoder</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GeraCaptchaServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Override</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(</span><span class="n">ServletConfig</span> <span class="n">config</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">config</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="nd">@Override</span>
</span><span class='line'><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doGet</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span><span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">byte</span><span class="o">[]</span> <span class="n">captchaChallengeAsJpeg</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>    <span class="c1">// Objeto que receber a imagem jpeg gerada pelo JCaptcha</span>
</span><span class='line'>    <span class="c1">// retorna para solicitação do cliente</span>
</span><span class='line'>    <span class="n">ByteArrayOutputStream</span> <span class="n">jpegOutputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayOutputStream</span><span class="o">();</span>
</span><span class='line'>    <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// Pega o id da sessao para utiliza como identificador</span>
</span><span class='line'>        <span class="c1">// para geração do captcha</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">captchaId</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">getId</span><span class="o">();</span>
</span><span class='line'>        <span class="c1">// chama o método de geração de captcha</span>
</span><span class='line'>        <span class="n">BufferedImage</span> <span class="n">challenge</span> <span class="o">=</span> <span class="n">CaptchaServiceSingleton</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getImageChallengeForID</span><span class="o">(</span><span class="n">captchaId</span><span class="o">,</span><span class="n">req</span><span class="o">.</span><span class="na">getLocale</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// codifica a imagem para tipo jpeg</span>
</span><span class='line'>        <span class="n">JPEGImageEncoder</span> <span class="n">jpegEncoder</span> <span class="o">=</span> <span class="n">JPEGCodec</span><span class="o">.</span><span class="na">createJPEGEncoder</span><span class="o">(</span><span class="n">jpegOutputStream</span><span class="o">);</span>
</span><span class='line'>        <span class="n">jpegEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">challenge</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">resp</span><span class="o">.</span><span class="na">sendError</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
</span><span class='line'>        <span class="k">return</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">CaptchaServiceException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">resp</span><span class="o">.</span><span class="na">sendError</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_INTERNAL_SERVER_ERROR</span><span class="o">);</span>
</span><span class='line'>        <span class="k">return</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">captchaChallengeAsJpeg</span> <span class="o">=</span> <span class="n">jpegOutputStream</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// enviar a resposta com a imagem</span>
</span><span class='line'>    <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">&quot;Cache-Control&quot;</span><span class="o">,</span> <span class="s">&quot;no-store&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">&quot;Pragma&quot;</span><span class="o">,</span> <span class="s">&quot;no-cache&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">resp</span><span class="o">.</span><span class="na">setDateHeader</span><span class="o">(</span><span class="s">&quot;Expires&quot;</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
</span><span class='line'>    <span class="n">resp</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">&quot;image/jpeg&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">ServletOutputStream</span> <span class="n">responseOutputStream</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
</span><span class='line'>    <span class="n">responseOutputStream</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">captchaChallengeAsJpeg</span><span class="o">);</span>
</span><span class='line'>    <span class="n">responseOutputStream</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
</span><span class='line'>    <span class="n">responseOutputStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ValidaCaptchaRegistroServlet.java </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">guedesdesouza</span><span class="o">.</span><span class="na">captcha</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">javax.servlet.RequestDispatcher</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValidaCaptchaRegistroServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span><span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Override</span>
</span><span class='line'><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doPost</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span>
</span><span class='line'>    <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">String</span> <span class="n">resposta</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">&quot;captcha.id&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">idCaptcha</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">getId</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">RequestDispatcher</span> <span class="n">rd</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">isValido</span><span class="o">(</span><span class="n">resposta</span><span class="o">,</span> <span class="n">idCaptcha</span><span class="o">)){</span><span class="c1">//se verdadeiro conclui cadastro</span>
</span><span class='line'>        <span class="n">rd</span> <span class="o">=</span> <span class="n">getServletContext</span><span class="o">().</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="s">&quot;/concluido.jsp&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">rd</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span><span class="k">else</span><span class="o">{</span><span class="c1">// caso seja inválido retorna a página de registro</span>
</span><span class='line'>        <span class="n">req</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">&quot;msg&quot;</span><span class="o">,</span><span class="s">&quot;Texto da imagem digitado errado&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">rd</span> <span class="o">=</span> <span class="n">getServletContext</span><span class="o">().</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="s">&quot;/registrar.jsp&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">rd</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isValido</span><span class="o">(</span><span class="n">String</span> <span class="n">resposta</span><span class="o">,</span> <span class="n">String</span> <span class="n">idCaptcha</span><span class="o">){</span>
</span><span class='line'>    <span class="kt">boolean</span> <span class="n">resultado</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>    <span class="k">try</span><span class="o">{</span>
</span><span class='line'>        <span class="n">resultado</span> <span class="o">=</span> <span class="n">CaptchaServiceSingleton</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">validateResponseForID</span><span class="o">(</span><span class="n">idCaptcha</span><span class="o">,</span><span class="n">resposta</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// TODO: handle exception</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">resultado</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>registro.jsp </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="ni">&amp;lt;</span>?xml version=<span class="ni">&amp;ldquo;</span>1.0<span class="ni">&amp;rdquo;</span> encoding=<span class="ni">&amp;ldquo;</span>ISO-8859-1<span class="ni">&amp;rdquo;</span> ?&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>%@ page language=<span class="ni">&amp;ldquo;</span>java<span class="ni">&amp;rdquo;</span> contentType=<span class="ni">&amp;ldquo;</span>text/html; charset=ISO-8859-1<span class="ni">&amp;rdquo;</span>
</span><span class='line'>pageEncoding=<span class="ni">&amp;ldquo;</span>ISO-8859-1<span class="ni">&amp;rdquo;</span>%&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>%@taglib uri=<span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="nt">&gt;</span>http://java.sun.com/jsp/jstl/core<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span> prefix=<span class="ni">&amp;ldquo;</span>c<span class="ni">&amp;rdquo;</span> %&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>%@taglib uri=<span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span><span class="nt">&gt;</span>http://java.sun.com/jsp/jstl/fmt<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span> prefix=<span class="ni">&amp;ldquo;</span>f<span class="ni">&amp;rdquo;</span> %&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html PUBLIC <span class="ni">&amp;ldquo;&amp;ndash;</span>//W3C//DTD XHTML 1.0 Transitional//EN<span class="ni">&amp;rdquo;</span> <span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class="nt">&gt;</span>http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span>&gt;
</span><span class='line'><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=ISO-8859-1&quot;</span> <span class="nt">/&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;title&gt;</span>Registrar<span class="nt">&lt;/title&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;form</span> <span class="na">name=</span><span class="s">&quot;formregister&quot;</span> <span class="na">action=</span><span class="s">&quot;validacaptcha&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">&quot;forumline&quot;</span> <span class="na">cellspacing=</span><span class="s">&quot;1&quot;</span> <span class="na">cellpadding=</span><span class="s">&quot;3&quot;</span> <span class="na">width=</span><span class="s">&quot;50%&quot;</span> <span class="na">border=</span><span class="s">&quot;0&quot;</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;th</span> <span class="na">class=</span><span class="s">&quot;thhead&quot;</span> <span class="na">valign=</span><span class="s">&quot;middle&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">height=</span><span class="s">&quot;25&quot;</span><span class="nt">&gt;</span>Registrar Informação<span class="nt">&lt;/th&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;gensmall&quot;</span><span class="nt">&gt;&lt;font</span> <span class="na">color=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>Você deve preencher os campos com &quot;*&quot;<span class="nt">&lt;/font&gt;&lt;/span&gt;&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">width=</span><span class="s">&quot;38%&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Usuário: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;25&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Endereço de e-mail: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;255&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;email&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Senha: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">id=</span><span class="s">&quot;password&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;100&quot;</span> <span class="nt">/&gt;</span> <span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Confirme a senha: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;100&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;password_confirm&quot;</span> <span class="nt">/&gt;</span> <span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;geracaptcha&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Digite o texto da image: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;7&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;captcha.id&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;&lt;font</span> <span class="na">color=</span><span class="s">&quot;#ff0000&quot;</span><span class="nt">&gt;&lt;b&gt;</span>
</span><span class='line'><span class="nt">&lt;c:out</span> <span class="na">value=</span><span class="s">&quot;${msg}&quot;</span><span class="nt">&gt;&lt;/c:out&gt;</span>
</span><span class='line'><span class="nt">&lt;/b&gt;&lt;/font&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;catbottom&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">height=</span><span class="s">&quot;28&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">&quot;mainoption&quot;</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Enviar&quot;</span> <span class="na">name=</span><span class="s">&quot;submit&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">&quot;liteoption&quot;</span> <span class="na">type=</span><span class="s">&quot;reset&quot;</span> <span class="na">value=</span><span class="s">&quot;Limpar&quot;</span> <span class="na">name=</span><span class="s">&quot;reset&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'><span class="nt">&lt;/table&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;/form&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>concluido.jsp </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="ni">&amp;lt;</span>?xml version=<span class="ni">&amp;ldquo;</span>1.0<span class="ni">&amp;rdquo;</span> encoding=<span class="ni">&amp;ldquo;</span>ISO-8859-1<span class="ni">&amp;rdquo;</span> ?&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>%@ page language=<span class="ni">&amp;ldquo;</span>java<span class="ni">&amp;rdquo;</span> contentType=<span class="ni">&amp;ldquo;</span>text/html; charset=ISO-8859-1<span class="ni">&amp;rdquo;</span>
</span><span class='line'>pageEncoding=<span class="ni">&amp;ldquo;</span>ISO-8859-1<span class="ni">&amp;rdquo;</span>%&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>!DOCTYPE html PUBLIC <span class="ni">&amp;ldquo;&amp;ndash;</span>//W3C//DTD XHTML 1.0 Transitional//EN<span class="ni">&amp;rdquo;</span> <span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span class="nt">&gt;</span>http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span>&gt;
</span><span class='line'><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=ISO-8859-1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;title&gt;</span>Registro Concluído<span class="nt">&lt;/title&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'>Registro Concluído<span class="ni">&amp;hellip;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>web.xml </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="ni">&amp;lt;</span>?xml version=<span class="ni">&amp;ldquo;</span>1.0<span class="ni">&amp;rdquo;</span> encoding=<span class="ni">&amp;ldquo;</span>UTF-8<span class="ni">&amp;rdquo;</span>?&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>web-app id=<span class="ni">&amp;ldquo;</span>WebApp_ID<span class="ni">&amp;rdquo;</span> version=<span class="ni">&amp;ldquo;</span>2.4<span class="ni">&amp;rdquo;</span> xmlns=<span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span><span class="nt">&gt;</span>http://java.sun.com/xml/ns/j2ee<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span> xmlns:xsi=<span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="nt">&gt;</span>http://www.w3.org/2001/XMLSchema-instance<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span> xsi:schemaLocation=<span class="ni">&amp;ldquo;</span><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span><span class="nt">&gt;</span>http://java.sun.com/xml/ns/j2ee<span class="nt">&lt;/a&gt;</span> <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span><span class="nt">&gt;</span>http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;rdquo;</span>&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>display-name&gt;captcha<span class="ni">&amp;lt;</span>/display-name&gt;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;servlet&gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>servlet-name&gt;geracaptchaServlet<span class="ni">&amp;lt;</span>/servlet-name&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>servlet-class&gt;br.com.guedesdesouza.captcha.GeraCaptchaServlet<span class="ni">&amp;lt;</span>/servlet-class&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>load-on-startup&gt;0<span class="ni">&amp;lt;</span>/load-on-startup&gt;
</span><span class='line'><span class="nt">&lt;/servlet&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;servlet&gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>servlet-name&gt;validacaptchaServlet<span class="ni">&amp;lt;</span>/servlet-name&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>servlet-class&gt;br.com.guedesdesouza.captcha.ValidaCaptchaRegistroServlet<span class="ni">&amp;lt;</span>/servlet-class&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>load-on-startup&gt;0<span class="ni">&amp;lt;</span>/load-on-startup&gt;
</span><span class='line'><span class="nt">&lt;/servlet&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span><span class="ni">&amp;lt;</span>servlet-mapping&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>servlet-name&gt;geracaptchaServlet<span class="ni">&amp;lt;</span>/servlet-name&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>url-pattern&gt;/geracaptcha<span class="ni">&amp;lt;</span>/url-pattern&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>/servlet-mapping&gt;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span><span class="ni">&amp;lt;</span>servlet-mapping&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>servlet-name&gt;validacaptchaServlet<span class="ni">&amp;lt;</span>/servlet-name&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>url-pattern&gt;/validacaptcha<span class="ni">&amp;lt;</span>/url-pattern&gt;
</span><span class='line'><span class="ni">&amp;lt;</span>/servlet-mapping&gt;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span><span class="ni">&amp;lt;</span>/web-app&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><strong>E o resultado é esse:</strong></p>

<p><img src="http://farm9.staticflickr.com/8430/7559645334_9a7ee94868_z_d.jpg" alt="" /></p>

<p>Apesar de um captcha ser útil para minimizar os problemas de ataque ou vasculhamento de informações por robôs dos grandes motores de buscas da internet e garantir que somente seres humanos possa responder as peguntas geradas, ele também tem uma problema: Como o captcha se baseia na geração de imagens para definição da pergunta, isso se torna um empecilho para usuário com deficiências visuais, pois, para que possam navegar na internet, utilizam-se de software especializados em ler o conteúdo do html e como determinado software não consegue ler a imagem gerada, o deficiente acaba não tendo acesso sobre o conteúdo.Num próximo post irei um pouco mais a fundo do Jcaptcha para podermos utilizar alguns recursos personalizados.
Código Fonte em: <a href="https://github.com/gulira/captcha">https://github.com/gulira/captcha</a></p>
]]></content>
  </entry>
  
</feed>
