<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Rodrigo Guedes de Souza]]></title>
  <link href="http://guedesdesouza.com.br/atom.xml" rel="self"/>
  <link href="http://guedesdesouza.com.br/"/>
  <updated>2014-07-06T17:11:44-03:00</updated>
  <id>http://guedesdesouza.com.br/</id>
  <author>
    <name><![CDATA[Rodrigo Guedes de Souza]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Autocomplete Comandos Do Git Em Seu Terminal Mac OS]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/07/06/autocomplete-comandos-do-git-em-seu-terminal-mac-os/"/>
    <updated>2014-07-06T16:19:12-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/07/06/autocomplete-comandos-do-git-em-seu-terminal-mac-os</id>
    <content type="html"><![CDATA[<p>No termina/shell do Mac OS X você pode usar [TAB] para autocompletar caminhos de arquivos e diretórios. Já imaginou como seria incrível se pudesse usar essa mesma função para comandos git assim como nome de branches?</p>

<p>Então você pode!!! Veja como.</p>

<p>O primeiro passo é baixar o script <code>git-completion.bash</code> (veja <a href="https://github.com/git/git/blob/master/contrib/completion/git-completion.bash">aqui</a>) em seu diretório raiz executando o seguinte comando:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>curl https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -o ~/.git-completion.bash
</span></code></pre></td></tr></table></div></figure>


<p>O próximo passo é adicionar o código abaixo em seu arquivo <code>~/.bash_profile</code>.
Este trecho de código executa o script git autocomplete caso ele exista.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="k">if</span> <span class="o">[</span> -f ~/.git-completion.bash <span class="o">]</span>; <span class="k">then</span>
</span><span class='line'>  . ~/.git-completion.bash
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>Agora abra um novo shell, vá para um diretório que contenha um repositório git e comece a digitar um comando. Agora você pode usar [TAB] para autocompletar comandos do git e nomes de branch.</p>

<p>Por exemplo, se você digitar git + espaço + [TAB], você vai ter como resultado uma lista contendo todos os comandos disponíveis do git:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>add                      config                   instaweb                 reset
</span><span class='line'>am                       credential               log                      revert
</span><span class='line'>annotate                 credential-osxkeychain   merge                    rm
</span><span class='line'>apply                    describe                 mergetool                send-email
</span><span class='line'>archive                  diff                     mv                       shortlog
</span><span class='line'>bisect                   difftool                 name-rev                 show
</span><span class='line'>blame                    fetch                    notes                    show-branch
</span><span class='line'>branch                   filter-branch            p4                       stage
</span><span class='line'>bundle                   format-patch             pull                     stash
</span><span class='line'>checkout                 fsck                     push                     status
</span><span class='line'>cherry                   gc                       rebase                   submodule
</span><span class='line'>cherry-pick              get-tar-commit-id        reflog                   subtree
</span><span class='line'>citool                   grep                     relink                   svn
</span><span class='line'>clean                    gui                      remote                   tag
</span><span class='line'>clone                    <span class="nb">help                     </span>repack                   whatchanged
</span><span class='line'>column                   imap-send                replace
</span><span class='line'>commit                   init                     request-pull
</span></code></pre></td></tr></table></div></figure>


<p>A brincadeira fica ainda mais interessante quando você trabalha com várias branches. O processo de checkout e push fica bem mais rápido!!! Bom, isso para quem gosta de linhas de comandos ;)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Desenvolvimento De Uma Aplicação Frente De Caixa Automatizada Para O Varejo Utilizando JAVA E RFID]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/04/14/desenvolvimento-de-uma-aplicacao-frente-de-caixa-automatizada-para-o-varejo-utilizando-java-e-rfid/"/>
    <updated>2014-04-14T11:10:30-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/04/14/desenvolvimento-de-uma-aplicacao-frente-de-caixa-automatizada-para-o-varejo-utilizando-java-e-rfid</id>
    <content type="html"><![CDATA[<p>Segue mais um post onde disponibilizo minha monografia realizada na Especialização em Desenvolvimento Orientado a Objetos em JAVA.
A proposta dessa monografia foi realizar um levantamento bibliográfico sobre a tecnologia RFID e utilizá-la com a plataforma Java para resolver um grande problema enfrentado pelo setor varejista.</p>

<p style="text-align:center;"> <strong>RESUMO</strong></p>

<p>As longas filas nos caixas, do setor varejista, é um dos diversos fatores que causam constrangimentos e insatisfações a consumidores modernos, que esperam por um rápido atendimento na hora de efetuar suas compras. Por este motivo os clientes procuram outros estabelecimentos, na busca de acharem um ambiente ideal, sem transtornos. Deste modo um processo automatizado auxilia efetuar vendas rápidas e eficientes trazendo lucros para o negócio e satisfazendo o desejo do cliente. Neste momento a utilização da tecnologia de identificação por rádio freqüência (RFID) é
primordial, pois ela elimina a entrada de dados manuais tornando o processo de efetuação de venda mais rápida e precisa. Este trabalho tem, portanto, o objetivo de realizar um estudo sobre a tecnologia de identificação por rádio freqüência e o
Middleware SUN JAVA SYSTEM RFID para utilizarem como ferramentas. A partir dos resultados obtidos neste estudo, será desenvolvida uma aplicação desktop frente de caixa específica para o varejo, desenvolvido em JAVA para agilizar o processamento dos itens de venda, minimizando o problema das grandes filas de caixas.</p>

<p>Palavras chave:
Identificação por Rádio Freqüência, JAVA, Fila de Caixa.</p>

<p>Aluno: Rodrigo Guedes de Souza (<a href="&#109;&#97;&#105;&#108;&#x74;&#111;&#58;&#x72;&#111;&#x64;&#x72;&#x69;&#x67;&#x6f;&#x40;&#x67;&#117;&#101;&#x64;&#101;&#115;&#x64;&#101;&#115;&#x6f;&#x75;&#122;&#97;&#46;&#x63;&#111;&#109;&#x2e;&#98;&#114;">&#114;&#x6f;&#x64;&#x72;&#x69;&#103;&#x6f;&#64;&#103;&#117;&#x65;&#x64;&#101;&#115;&#x64;&#101;&#115;&#111;&#x75;&#x7a;&#97;&#46;&#x63;&#111;&#109;&#46;&#x62;&#114;</a>)
Orientação: Prof. Msc. Edson Yanaga (<a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#58;&#x79;&#97;&#x6e;&#97;&#103;&#x61;&#x40;&#99;&#x65;&#x73;&#x75;&#109;&#97;&#x72;&#x2e;&#x62;&#x72;">&#x79;&#97;&#110;&#97;&#103;&#x61;&#64;&#99;&#101;&#x73;&#x75;&#x6d;&#x61;&#x72;&#46;&#98;&#114;</a>)</p>

<p><a href="https://drive.google.com/file/d/0B3U4JYDYh4XEbEhkU204V3A3d1E/edit?usp=sharing">Download Aqui…</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Estudo Sobre a Implantação De Propriedades De Segurança Em Correio Eletrônico Através Do PGP]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/04/14/estudo-sobre-a-implantacao-de-propriedades-de-seguranca-em-correio-eletronico-atraves-do-pgp/"/>
    <updated>2014-04-14T10:54:10-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/04/14/estudo-sobre-a-implantacao-de-propriedades-de-seguranca-em-correio-eletronico-atraves-do-pgp</id>
    <content type="html"><![CDATA[<p>Para aqueles que querem proteger suas informações enviadas por email, segue minha monografia para o curso de Especialização em Ambientes de Desenvolvimento para Internet.
Apesar de ter escrito há alguns anos ainda é uma ótima fonte de referência.</p>

<p style="text-align:center;"> <strong>RESUMO</strong></p>

<p>O correio eletrônico (email) é um dos melhores exemplos da onipresença que a Internet apresenta no cotidiano da sociedade moderna. Entretanto, muito embora já considerado um serviço essencial, o correio eletrônico é inerentemente inseguro. A
despeito da ignorância da grande maioria dos usuários, o correio eletrônico, como utilizado comumente (através da RFC 822) não é capaz de garantir a entrega, a privacidade, a autenticação e o não repúdio das mensagens enviadas. A utilização de
aplicações como o PGP, que permitem acrescentar propriedades de segurança ao correio eletrônico, têm se demonstrado de mínimo grau de penetração junto à comunidade da Internet. Este trabalho tem portanto o objetivo de realizar um estudo
sobre a implantação de propriedades de segurança em correio eletrônico através de uma aplicação baseada em criptografia, cujo representante mais popular é o PGP. A partir dos resultados obtidos com este estudo, esperase poder divulgar e fornecer
uma trilha para servir de guia à popularização dos serviços de segurança em correio eletrônico.</p>

<p>Palavraschave:
Segurança, correio eletrônico, PGP.</p>

<p>Aluno: Rodrigo Guedes de Souza (<a href="&#109;&#97;&#x69;&#x6c;&#116;&#111;&#58;&#x72;&#x6f;&#x64;&#x72;&#x69;&#103;&#x6f;&#x40;&#103;&#x75;&#101;&#100;&#101;&#x73;&#x64;&#x65;&#115;&#111;&#117;&#x7a;&#x61;&#46;&#99;&#111;&#109;&#46;&#x62;&#x72;">&#114;&#x6f;&#x64;&#x72;&#x69;&#103;&#111;&#64;&#103;&#x75;&#x65;&#100;&#101;&#x73;&#x64;&#x65;&#x73;&#111;&#117;&#x7a;&#x61;&#46;&#99;&#111;&#109;&#46;&#98;&#114;</a>)
Orientação: Prof. Msc. Edson Yanaga (<a href="&#109;&#x61;&#105;&#108;&#116;&#x6f;&#x3a;&#x79;&#97;&#x6e;&#x61;&#103;&#97;&#64;&#x63;&#101;&#115;&#117;&#x6d;&#x61;&#114;&#x2e;&#98;&#x72;">&#x79;&#97;&#x6e;&#x61;&#103;&#x61;&#64;&#99;&#101;&#115;&#117;&#x6d;&#x61;&#x72;&#46;&#x62;&#114;</a>)</p>

<p><a href="https://drive.google.com/file/d/0B3U4JYDYh4XEYnh2QWJrZzV2Sk0/edit?usp=sharing">Download Aqui&hellip;</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Utilizando Captcha Com Servlet]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/04/14/utilizando-captcha-com-servlet/"/>
    <updated>2014-04-14T10:16:05-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/04/14/utilizando-captcha-com-servlet</id>
    <content type="html"><![CDATA[<p>Um assunto muito interessante que eu trato neste post, é como utilizar captcha para manter seguro seu site contra robôs da web e ataques.</p>

<p><strong>O que é um Robô da Web</strong></p>

<p>ROBOT (ou robô) é um programa de computador que percorre automaticamente as páginas da Internet em busca de documentos, a fim de indexá-los, validá-los ou monitorar alterações de conteúdo.
<a href="http://pt.wikipedia.org/wiki/Robots.txt">Wikipedia</a></p>

<p><strong>O que é DDos-Spam</strong></p>

<p>Um ataque de negação de serviço (também conhecido como DoS, um acrônimo em inglês para Denial of Service), é uma tentativa em tornar os recursos de um sistema indisponíveis para seus utilizadores. Alvos típicos são servidores web, e o ataque tenta tornar as páginas hospedadas indisponíveis na WWW. Não se trata de uma invasão do sistema, mas sim da sua invalidação por sobrecarga.
<a href="http://pt.wikipedia.org/wiki/Ddos">Wikipedia</a></p>

<p><strong>O que é Captcha</strong></p>

<p>CAPTCHA é um acrônimo para “Completely Automated Public Turing test to tell Computers and Humans Apart” (teste de Turing público completamente automatizado para diferenciar entre computadores e humanos) desenvolvido pela universidade do Carnegie-Mellon.</p>

<p>CAPTCHAs são utilizados para impedir que softwares automatizados execute ações que degradam a qualidade do serviço de um sistema dado, devido à despesa do abuso ou do recurso. Embora CAPTCHAs sejam utilizados mais frequentemente como uma resposta a proteção de interesses comerciais, a noção que existem para parar somente spammers é um erro, ou uma simples redução.
<a href="http://pt.wikipedia.org/wiki/CAPTCHA">Wikipedia</a></p>

<p><strong>API Disponíveis</strong>
Atualmente as apis mais utilizadas, freqüentemente, em sistemas em java são:</p>

<p>Simple Captcha <a href="http://simplecaptcha.sourceforge.net">http://simplecaptcha.sourceforge.net</a>
Última Atualização 25/09/2005</p>

<p>JCaptcha <a href="http://jcaptcha.sourceforge.net">http://jcaptcha.sourceforge.net</a>
Última Atualização 03/05/2007</p>

<p>SkewPassImage <a href="http://skewpassim.sourceforge.net">http://skewpassim.sourceforge.net</a>
Última Atualização 27/03/2006</p>

<p>Recaptcha <a href="http://www.recaptcha.net">http://www.recaptcha.net</a></p>

<p><strong>Implementação</strong>
Uma situação real em que pode ser utilizado a captcha, é em um cadastro de usuário em um fórum, por exemplo, imagine se não existir um método que empeça de um cracker ou um aplicativo robô, derrubar seu site de tanto emitir submissões de cadastros de usuário “Ataque por DDos-spam”. Isso poderia gerar um excessivo uso de recursos desnecessário do servidor.
Para nossa implementação eu escolho o Jcaptcha, pois na minha opinião é a API mais completa para se trabalhar com Java.</p>

<figure class='code'><figcaption><span>CaptchaServiceSingleton.java </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">guedesdesouza</span><span class="o">.</span><span class="na">captcha</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.octo.captcha.service.image.ImageCaptchaService</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.octo.captcha.service.image.DefaultManageableImageCaptchaService</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CaptchaServiceSingleton</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="n">ImageCaptchaService</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultManageableImageCaptchaService</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">ImageCaptchaService</span> <span class="nf">getInstance</span><span class="o">(){</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>GeraCaptchaServlet.java </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">guedesdesouza</span><span class="o">.</span><span class="na">captcha</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.awt.image.BufferedImage</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.ByteArrayOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletConfig</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.octo.captcha.service.CaptchaServiceException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.sun.image.codec.jpeg.JPEGCodec</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.sun.image.codec.jpeg.JPEGImageEncoder</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GeraCaptchaServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(</span><span class="n">ServletConfig</span> <span class="n">config</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span> <span class="o">{</span>
</span><span class='line'>      <span class="kd">super</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">config</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doGet</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span><span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>      <span class="kt">byte</span><span class="o">[]</span> <span class="n">captchaChallengeAsJpeg</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>      <span class="c1">// Objeto que receber a imagem jpeg gerada pelo JCaptcha</span>
</span><span class='line'>      <span class="c1">// retorna para solicitação do cliente</span>
</span><span class='line'>      <span class="n">ByteArrayOutputStream</span> <span class="n">jpegOutputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayOutputStream</span><span class="o">();</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="c1">// Pega o id da sessao para utiliza como identificador</span>
</span><span class='line'>          <span class="c1">// para geração do captcha</span>
</span><span class='line'>          <span class="n">String</span> <span class="n">captchaId</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">getId</span><span class="o">();</span>
</span><span class='line'>          <span class="c1">// chama o método de geração de captcha</span>
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">challenge</span> <span class="o">=</span> <span class="n">CaptchaServiceSingleton</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getImageChallengeForID</span><span class="o">(</span><span class="n">captchaId</span><span class="o">,</span><span class="n">req</span><span class="o">.</span><span class="na">getLocale</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>          <span class="c1">// codifica a imagem para tipo jpeg</span>
</span><span class='line'>          <span class="n">JPEGImageEncoder</span> <span class="n">jpegEncoder</span> <span class="o">=</span> <span class="n">JPEGCodec</span><span class="o">.</span><span class="na">createJPEGEncoder</span><span class="o">(</span><span class="n">jpegOutputStream</span><span class="o">);</span>
</span><span class='line'>          <span class="n">jpegEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">challenge</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">resp</span><span class="o">.</span><span class="na">sendError</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
</span><span class='line'>          <span class="k">return</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">CaptchaServiceException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">resp</span><span class="o">.</span><span class="na">sendError</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_INTERNAL_SERVER_ERROR</span><span class="o">);</span>
</span><span class='line'>          <span class="k">return</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">captchaChallengeAsJpeg</span> <span class="o">=</span> <span class="n">jpegOutputStream</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// enviar a resposta com a imagem</span>
</span><span class='line'>      <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">&quot;Cache-Control&quot;</span><span class="o">,</span> <span class="s">&quot;no-store&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">&quot;Pragma&quot;</span><span class="o">,</span> <span class="s">&quot;no-cache&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="n">resp</span><span class="o">.</span><span class="na">setDateHeader</span><span class="o">(</span><span class="s">&quot;Expires&quot;</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
</span><span class='line'>      <span class="n">resp</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">&quot;image/jpeg&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="n">ServletOutputStream</span> <span class="n">responseOutputStream</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
</span><span class='line'>      <span class="n">responseOutputStream</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">captchaChallengeAsJpeg</span><span class="o">);</span>
</span><span class='line'>      <span class="n">responseOutputStream</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
</span><span class='line'>      <span class="n">responseOutputStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>ValidaCaptchaRegistroServlet.java </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">br</span><span class="o">.</span><span class="na">com</span><span class="o">.</span><span class="na">guedesdesouza</span><span class="o">.</span><span class="na">captcha</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.RequestDispatcher</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValidaCaptchaRegistroServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span><span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@Override</span>
</span><span class='line'>  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doPost</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span>
</span><span class='line'>      <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>  
</span><span class='line'>      <span class="n">String</span> <span class="n">resposta</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">&quot;captcha.id&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="n">String</span> <span class="n">idCaptcha</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">getId</span><span class="o">();</span>
</span><span class='line'>      
</span><span class='line'>      <span class="n">RequestDispatcher</span> <span class="n">rd</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">if</span> <span class="o">(</span><span class="n">isValido</span><span class="o">(</span><span class="n">resposta</span><span class="o">,</span> <span class="n">idCaptcha</span><span class="o">)){</span><span class="c1">//se verdadeiro conclui cadastro</span>
</span><span class='line'>          <span class="n">rd</span> <span class="o">=</span> <span class="n">getServletContext</span><span class="o">().</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="s">&quot;/concluido.jsp&quot;</span><span class="o">);</span>
</span><span class='line'>          <span class="n">rd</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span><span class="k">else</span><span class="o">{</span><span class="c1">// caso seja inválido retorna a página de registro</span>
</span><span class='line'>          <span class="n">req</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">&quot;msg&quot;</span><span class="o">,</span><span class="s">&quot;Texto da imagem digitado errado&quot;</span><span class="o">);</span>
</span><span class='line'>          <span class="n">rd</span> <span class="o">=</span> <span class="n">getServletContext</span><span class="o">().</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="s">&quot;/registrar.jsp&quot;</span><span class="o">);</span>
</span><span class='line'>          <span class="n">rd</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>      
</span><span class='line'>  <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isValido</span><span class="o">(</span><span class="n">String</span> <span class="n">resposta</span><span class="o">,</span> <span class="n">String</span> <span class="n">idCaptcha</span><span class="o">){</span>
</span><span class='line'>      <span class="kt">boolean</span> <span class="n">resultado</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>      <span class="k">try</span><span class="o">{</span>
</span><span class='line'>          <span class="n">resultado</span> <span class="o">=</span> <span class="n">CaptchaServiceSingleton</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">validateResponseForID</span><span class="o">(</span><span class="n">idCaptcha</span><span class="o">,</span><span class="n">resposta</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="c1">// TODO: handle exception</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">resultado</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>registro.jsp </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;</span>
</span><span class='line'><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=ISO-8859-1&quot;</span>
</span><span class='line'><span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;ISO-8859-1&quot;</span><span class="k">%&gt;</span>
</span><span class='line'><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="k">%&gt;</span>
</span><span class='line'><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;f&quot;</span> <span class="k">%&gt;</span>
</span><span class='line'><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
</span><span class='line'><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=ISO-8859-1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;style</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>@import url( http://styles/style.css);<span class="nt">&lt;/style&gt;</span>
</span><span class='line'><span class="nt">&lt;title&gt;</span>Registrar<span class="nt">&lt;/title&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">&quot;formregister&quot;</span> <span class="na">action=</span><span class="s">&quot;validacaptcha&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">&quot;forumline&quot;</span> <span class="na">cellspacing=</span><span class="s">&quot;1&quot;</span> <span class="na">cellpadding=</span><span class="s">&quot;3&quot;</span> <span class="na">width=</span><span class="s">&quot;50%&quot;</span> <span class="na">border=</span><span class="s">&quot;0&quot;</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;th</span> <span class="na">class=</span><span class="s">&quot;thhead&quot;</span> <span class="na">valign=</span><span class="s">&quot;middle&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">height=</span><span class="s">&quot;25&quot;</span><span class="nt">&gt;</span>Registrar Informação<span class="nt">&lt;/th&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;gensmall&quot;</span><span class="nt">&gt;&lt;font</span> <span class="na">color=</span><span class="s">&quot;red&quot;</span><span class="nt">&gt;</span>Você deve preencher os campos com &quot;*&quot;<span class="nt">&lt;/font&gt;&lt;/span&gt;&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">width=</span><span class="s">&quot;38%&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Usuário: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;25&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Endereço de e-mail: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;255&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;email&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Senha: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">id=</span><span class="s">&quot;password&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;100&quot;</span> <span class="nt">/&gt;</span> <span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Confirme a senha: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;100&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;password_confirm&quot;</span> <span class="nt">/&gt;</span> <span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;geracaptcha&quot;</span> <span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row1&quot;</span> <span class="na">align=</span><span class="s">&quot;right&quot;</span><span class="nt">&gt;</span>Digite o texto da image: *<span class="nt">&lt;/td&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span><span class="nt">&gt;&lt;input</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">style=</span><span class="s">&quot;WIDTH: 200px&quot;</span> <span class="na">maxlength=</span><span class="s">&quot;7&quot;</span> <span class="na">size=</span><span class="s">&quot;25&quot;</span> <span class="na">name=</span><span class="s">&quot;captcha.id&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;row2&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;&lt;font</span> <span class="na">color=</span><span class="s">&quot;#ff0000&quot;</span><span class="nt">&gt;&lt;b&gt;</span>
</span><span class='line'><span class="nt">&lt;c:out</span> <span class="na">value=</span><span class="s">&quot;${msg}&quot;</span><span class="nt">&gt;&lt;/c:out&gt;</span>
</span><span class='line'><span class="nt">&lt;/b&gt;&lt;/font&gt;&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;tr</span> <span class="na">align=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">&quot;catbottom&quot;</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span> <span class="na">height=</span><span class="s">&quot;28&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">&quot;mainoption&quot;</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Enviar&quot;</span> <span class="na">name=</span><span class="s">&quot;submit&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">&quot;liteoption&quot;</span> <span class="na">type=</span><span class="s">&quot;reset&quot;</span> <span class="na">value=</span><span class="s">&quot;Limpar&quot;</span> <span class="na">name=</span><span class="s">&quot;reset&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/td&gt;</span>
</span><span class='line'><span class="nt">&lt;/tr&gt;</span>
</span><span class='line'><span class="nt">&lt;/table&gt;</span>
</span><span class='line'><span class="nt">&lt;/form&gt;</span>
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>concluido.jsp </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='jsp'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;</span>
</span><span class='line'><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=ISO-8859-1&quot;</span>
</span><span class='line'><span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;ISO-8859-1&quot;</span><span class="k">%&gt;</span>
</span><span class='line'><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
</span><span class='line'><span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=ISO-8859-1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;title&gt;</span>Registro Concluído<span class="nt">&lt;/title&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span><span class='line'><span class="nt">&lt;body&gt;</span>
</span><span class='line'>Registro Concluído...
</span><span class='line'><span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>web.xml </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;web-app</span> <span class="na">id=</span><span class="s">&quot;WebApp_ID&quot;</span> <span class="na">version=</span><span class="s">&quot;2.4&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;display-name&gt;</span>captcha<span class="nt">&lt;/display-name&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;servlet&gt;</span>
</span><span class='line'><span class="nt">&lt;servlet-name&gt;</span>geracaptchaServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span><span class='line'><span class="nt">&lt;servlet-class&gt;</span>br.com.guedesdesouza.captcha.GeraCaptchaServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span><span class='line'><span class="nt">&lt;load-on-startup&gt;</span>0<span class="nt">&lt;/load-on-startup&gt;</span>
</span><span class='line'><span class="nt">&lt;/servlet&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;servlet&gt;</span>
</span><span class='line'><span class="nt">&lt;servlet-name&gt;</span>validacaptchaServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span><span class='line'><span class="nt">&lt;servlet-class&gt;</span>br.com.guedesdesouza.captcha.ValidaCaptchaRegistroServlet<span class="nt">&lt;/servlet-class&gt;</span>
</span><span class='line'><span class="nt">&lt;load-on-startup&gt;</span>0<span class="nt">&lt;/load-on-startup&gt;</span>
</span><span class='line'><span class="nt">&lt;/servlet&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;servlet-mapping&gt;</span>
</span><span class='line'><span class="nt">&lt;servlet-name&gt;</span>geracaptchaServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span><span class='line'><span class="nt">&lt;url-pattern&gt;</span>/geracaptcha<span class="nt">&lt;/url-pattern&gt;</span>
</span><span class='line'><span class="nt">&lt;/servlet-mapping&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;servlet-mapping&gt;</span>
</span><span class='line'><span class="nt">&lt;servlet-name&gt;</span>validacaptchaServlet<span class="nt">&lt;/servlet-name&gt;</span>
</span><span class='line'><span class="nt">&lt;url-pattern&gt;</span>/validacaptcha<span class="nt">&lt;/url-pattern&gt;</span>
</span><span class='line'><span class="nt">&lt;/servlet-mapping&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/web-app&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>E o resultado é esse:</strong></p>

<p><img src="http://farm9.staticflickr.com/8430/7559645334_9a7ee94868_z_d.jpg" alt="" /></p>

<p>Apesar de um captcha ser útil para minimizar os problemas de ataque ou vasculhamento de informações por robôs dos grandes motores de buscas da internet e garantir que somente seres humanos possa responder as peguntas geradas, ele também tem uma problema: Como o captcha se baseia na geração de imagens para definição da pergunta, isso se torna um empecilho para usuário com deficiências visuais, pois, para que possam navegar na internet, utilizam-se de software especializados em ler o conteúdo do html e como determinado software não consegue ler a imagem gerada, o deficiente acaba não tendo acesso sobre o conteúdo.Num próximo post irei um pouco mais a fundo do Jcaptcha para podermos utilizar alguns recursos personalizados.
Código Fonte em: <a href="https://github.com/gulira/captcha">https://github.com/gulira/captcha</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Configurando Wireless No Ubuntu Para Notebook HP Pavilion Dv2610us]]></title>
    <link href="http://guedesdesouza.com.br/blog/2014/04/13/configurando-wireless-no-ubuntu-para-notebook-hp-pavilion-dv2610us/"/>
    <updated>2014-04-13T14:47:35-03:00</updated>
    <id>http://guedesdesouza.com.br/blog/2014/04/13/configurando-wireless-no-ubuntu-para-notebook-hp-pavilion-dv2610us</id>
    <content type="html"><![CDATA[<p>Após migrar meu notebook (HP dv2610us) para Ubuntu 7.10, a única coisa que me deixava a desejar era o funcionamento do wireless, após vários e vários dias pesquisando e testando diversos drivers e maneiras de reconhecer a mini-PCI Broadcom 94311 que vem junto a ele, consegui finalmente desfrutar do acesso wireless via Linux.</p>

<p>Abaixo segue um breve tutorial de como fazer essa mágica:</p>

<p><strong>1° Passo:</strong> (Instalar o ndiswrapper)</p>

<p>Ndiswrapper é um emulador de drivers Windows para Linux, seu principal objetivo é fazer com que hardware baseado em Windows possam ser ativado no Linux. Ele também pode ser utilizado para outros hardware além de dispositivos wireless como: WebCam, Modems e Roteadores USB entre outros.</p>

<p>Para instalar o ndiswrapper é só entrar no seu terminal e digitar:</p>

<p><strong> $ sudo apt-get install ndiswrapper-common </strong></p>

<p>e</p>

<p><strong> $ sudo apt-get install ndiswrapper-utils-1.9 </strong></p>

<p><strong> 2° Passo: </strong> (Desabilitar o driver nativo pre-instalado)
No Ubuntu já existe um drive Broadcom 43xx previamente instalado que deve ser removido pelo simples motivo de não funcionar para a mini-PCI que vem junto ao dv2610us.</p>

<p>Para desabilitar execute o seguinte comando</p>

<p><strong> $ echo ‘blacklist bcm43xx’ | sudo tee -a /etc/modprobe.d/blacklist </strong></p>

<p>e</p>

<p><strong> $ sudo rmmod bcm43xx </strong></p>

<p><strong> 3° Passo: </strong> (Baixar o drive Broadcom compatível)
Esse é o ponto que me deixa mais indignado, pela lógica e muito provavelmente, você deve estar imaginando “isso se você já não foi logo fazendo :) ” é só ir na site da HP e fazer o download do drive disponível para esse módulo e pronto!!! É ai que você se engana hehehe. Não sei por qual motivo o drive da HP que deveria funcionar não funciona, então, após vários dias de pesquisa, encontrei um site “segue link no final do post” que ensinava a instalar essa mesma mini-PCI com o drive da Dell e então após os meus testes…… Uhuuu, funcionou.</p>

<p>Então para fazer o download</p>

<p><strong> $ wget <a href="http://ftp.us.dell.com/network/R151517.EXE">http://ftp.us.dell.com/network/R151517.EXE</a> </strong></p>

<p>Após o download temos que descompactar</p>

<p><strong> $ unzip -a R151517.EXE </strong></p>

<p><strong> 4° Passo: </strong> (Instalar e ativar o drive no ndiswrapper)
Após descompactar em um diretório temporário, por exemplo “temp”, execute os comandos:</p>

<p><strong> $ sudo ndiswrapper -i temp/DRIVE/bcmwl5.sys </strong></p>

<p>E depois temos que iniciar o módulo</p>

<p><strong>$ sudo ndiswrapper -m</strong></p>

<p><strong>$ sed -e ‘s/RadioState|1/RadioState|0/’ /etc/ndiswrapper/bcmwl5/*.con</strong></p>

<p><strong>$ sudo modprobe ndiswrapper</strong></p>

<p>Reinicie o computador para verificar se realmente o ndiswrapper carregou automática e execute o seguinte comando para listar os pontos de acesso wireless</p>

<p><strong> $ iwlist scanning </strong></p>

<p><strong> 6° e Último Passo: </strong> (configurando a rede)
Como todo bom usuário Linux, configure a rede na mão com os seguinte comandos:</p>

<p><strong>$ sudo iwconfig wlan0 essid NOME_DO_ACESSPOINT</strong> “nome listado pelo comando iwlist scanning”</p>

<p><strong>$ sudo iwconfig wlan0 enc CHAVE</strong> “chave de acesso se utiliza WEP ou WPA – opcional caso venha utilizar rede segura ou pelo menos difícil de quebrar”
<strong> $ sudo dhclient wlan0 </strong> “configura para pegar automaticamente um ip fornecido pelo acess point”</p>

<p><del><strong>$ sudo ifconfig wlan0 down </strong> “desliga interface wlan0”**</del></p>

<p><del><strong>$ sudo ifconfig wlan0 up </strong> “inicia interface wlan0”**</del></p>

<p><strong>$ sudo iwconfig commit </strong> “grava alterações”**</p>

<p>E pronto, você já está liberado para utilizar sua rede wireless.</p>

<p>Referência: <a href="http://www.vivaolinux.com.br/dicas/verDica.php?codigo=9358">http://www.vivaolinux.com.br/dicas/verDica.php?codigo=9358</a></p>
]]></content>
  </entry>
  
</feed>
